![CI](https://github.com/Alba-Gaitan/poc-karate/actions/workflows/karate-tests.yml/badge.svg)

# ğŸ¦„ API Automation Tests

## ğŸ“Œ Project Overview

This project is a **Proof of Concept (PoC)** API test automation framework built with **Karate Framework**.

It validates a CRUD REST API using **CrudCrud**, a free and public service designed for testing and prototyping REST APIs.

The framework demonstrates:
- Clean project structure
- Page Object Modelâ€“inspired approach for APIs
- Modular request/response schemas
- Secure configuration using environment variables
- CI execution via **GitHub Actions**

## ğŸŒ Test API â€“ CrudCrud

For this Proof of Concept, the project uses **CrudCrud**:

ğŸ”— https://crudcrud.com/

CrudCrud is a **free REST API service** that allows developers and testers to quickly create temporary endpoints for CRUD operations without any backend setup.

### Important notes:
- Each API key is **temporary**
- Data is automatically deleted after a period of time
- The service is intended **only for testing and learning purposes**

Because of this, all test scenarios are designed to be:
- independent
- self-contained
- safe to run multiple times in parallel

## ğŸ› ï¸ Tech Stack

- Java 17+
- Karate DSL 1.5.0
- Maven
- Gherkin (BDD)
- JavaScript (for dynamic test data generation)
- GitHub Actions



## ğŸ“‚ Project Structure

```bash
.
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ karate-tests.yml
â”œâ”€â”€ src/
â”‚   â””â”€â”€ test/
â”‚       â”œâ”€â”€ java/
â”‚       â”‚   â””â”€â”€ Runner.java
â”‚       â””â”€â”€ resources/
â”‚           â”œâ”€â”€ features/
â”‚           â”‚   â””â”€â”€ unicorns.feature
â”‚           â”œâ”€â”€ models/
â”‚           â”‚   â”œâ”€â”€ requests/
â”‚           â”‚   â”‚   â””â”€â”€ unicorn-request.json
â”‚           â”‚   â””â”€â”€ responses/
â”‚           â”‚       â””â”€â”€ unicorn-response.json
â”‚           â”œâ”€â”€ common/
â”‚           â”‚   â””â”€â”€ helpers/
â”‚           â”‚       â””â”€â”€ data.js
â”‚           â””â”€â”€ karate-config.js
â”œâ”€â”€ pom.xml
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md

```

## Structure rationale

```bash
features/
Contains Gherkin feature files (test scenarios only).

models/requests
JSON schemas for validating request bodies.

models/responses
JSON schemas for validating API responses.

common/helpers
JavaScript utility functions (e.g. fake data generation).

karate-config.js
Centralized configuration and environment handling.

Runner.java
Entry point to execute Karate tests with JUnit 5.
```

## ğŸ§ª Test Scenarios Covered

- Get all unicorns (GET)
- Create a unicorn (POST)
- Update a unicorn (PUT) (in progress / optional)
- Schema validation for request and response payloads
- Dynamic test data generation (random name, age, color)


## ğŸ” Configuration & Security

The framework uses environment variables:

```bash
Variable	Description
----------------------------
BASE_URL	API base URL
API_KEY	    API key
```

## ğŸ“¥ Clone & Run the project locally

### Prerequisites

- Java 17 or higher
- Maven installed
- Environment variables configured

### Clone the repository

```bash
git clone https://github.com/Alba-Gaitan/poc-karate.git
cd poc-karate
```

### Environment variables

This project uses environment variables to avoid exposing sensitive data
(API base URL and API key).
You must define the following variables before running the tests

Windows (PowerShell)
```bash
$env:BASE_URL="https://crudcrud.com"
$env:API_KEY="your_api_key_here"
```


## ğŸš€ How to Run the Tests
Run all tests locally
```bash
mvn test
```
Run only smoke tests
```bash
mvn test -Dkarate.options="--tags @smoke"
```

## ğŸ“Š Test Reports
After execution, Karate generates an HTML report automatically.

ğŸ“ Location:
```bash
target/karate-reports/karate-summary.html
```

## ğŸ§ª Continuous Integration

All tests are automatically executed on every push and pull request using
GitHub Actions.

- CI will fail if any test fails
- Merging to main is blocked if CI is red
- Test reports are uploaded as workflow artifacts

## ğŸ“Œ Notes

This project uses the free public API CrudCrud for testing purposes
https://crudcrud.com/

API keys generated by CrudCrud are temporary and may expire